{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createLazy = void 0;\nconst createDeferred_1 = require(\"./createDeferred\");\nconst createLazy = (initLazy, disposeLazy) => {\n  let value;\n  let valuePromise;\n  const get = () => value;\n  const getPending = () => valuePromise === null || valuePromise === void 0 ? void 0 : valuePromise.promise;\n  const dispose = () => {\n    if (valuePromise) {\n      valuePromise.reject(new Error('Disposed during initialization'));\n      valuePromise = undefined;\n    }\n    if (value !== undefined) {\n      disposeLazy === null || disposeLazy === void 0 ? void 0 : disposeLazy(value);\n      value = undefined;\n    }\n  };\n  const getOrInit = function () {\n    if (value !== undefined) return Promise.resolve(value);\n    if (!valuePromise) {\n      const deferred = (0, createDeferred_1.createDeferred)();\n      valuePromise = deferred;\n      initLazy(...arguments).then(val => {\n        value = val;\n        valuePromise = undefined;\n        deferred.resolve(val);\n      }).catch(err => {\n        valuePromise = undefined;\n        deferred.reject(err);\n      });\n    }\n    return valuePromise.promise;\n  };\n  return {\n    get,\n    getPending,\n    getOrInit,\n    dispose\n  };\n};\nexports.createLazy = createLazy;","map":{"version":3,"names":["Object","defineProperty","exports","value","createLazy","createDeferred_1","require","initLazy","disposeLazy","valuePromise","get","getPending","promise","dispose","reject","Error","undefined","getOrInit","Promise","resolve","deferred","createDeferred","arguments","then","val","catch","err"],"sources":["C:/Users/Administrator/solana-wallet-app/node_modules/@trezor/utils/lib/createLazy.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLazy = void 0;\nconst createDeferred_1 = require(\"./createDeferred\");\nconst createLazy = (initLazy, disposeLazy) => {\n    let value;\n    let valuePromise;\n    const get = () => value;\n    const getPending = () => valuePromise === null || valuePromise === void 0 ? void 0 : valuePromise.promise;\n    const dispose = () => {\n        if (valuePromise) {\n            valuePromise.reject(new Error('Disposed during initialization'));\n            valuePromise = undefined;\n        }\n        if (value !== undefined) {\n            disposeLazy === null || disposeLazy === void 0 ? void 0 : disposeLazy(value);\n            value = undefined;\n        }\n    };\n    const getOrInit = (...args) => {\n        if (value !== undefined)\n            return Promise.resolve(value);\n        if (!valuePromise) {\n            const deferred = (0, createDeferred_1.createDeferred)();\n            valuePromise = deferred;\n            initLazy(...args)\n                .then(val => {\n                value = val;\n                valuePromise = undefined;\n                deferred.resolve(val);\n            })\n                .catch(err => {\n                valuePromise = undefined;\n                deferred.reject(err);\n            });\n        }\n        return valuePromise.promise;\n    };\n    return { get, getPending, getOrInit, dispose };\n};\nexports.createLazy = createLazy;\n//# sourceMappingURL=createLazy.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,UAAU,GAAG,KAAK,CAAC;AAC3B,MAAMC,gBAAgB,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AACpD,MAAMF,UAAU,GAAGA,CAACG,QAAQ,EAAEC,WAAW,KAAK;EAC1C,IAAIL,KAAK;EACT,IAAIM,YAAY;EAChB,MAAMC,GAAG,GAAGA,CAAA,KAAMP,KAAK;EACvB,MAAMQ,UAAU,GAAGA,CAAA,KAAMF,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACG,OAAO;EACzG,MAAMC,OAAO,GAAGA,CAAA,KAAM;IAClB,IAAIJ,YAAY,EAAE;MACdA,YAAY,CAACK,MAAM,CAAC,IAAIC,KAAK,CAAC,gCAAgC,CAAC,CAAC;MAChEN,YAAY,GAAGO,SAAS;IAC5B;IACA,IAAIb,KAAK,KAAKa,SAAS,EAAE;MACrBR,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACL,KAAK,CAAC;MAC5EA,KAAK,GAAGa,SAAS;IACrB;EACJ,CAAC;EACD,MAAMC,SAAS,GAAG,SAAAA,CAAA,EAAa;IAC3B,IAAId,KAAK,KAAKa,SAAS,EACnB,OAAOE,OAAO,CAACC,OAAO,CAAChB,KAAK,CAAC;IACjC,IAAI,CAACM,YAAY,EAAE;MACf,MAAMW,QAAQ,GAAG,CAAC,CAAC,EAAEf,gBAAgB,CAACgB,cAAc,EAAE,CAAC;MACvDZ,YAAY,GAAGW,QAAQ;MACvBb,QAAQ,CAAC,GAAAe,SAAO,CAAC,CACZC,IAAI,CAACC,GAAG,IAAI;QACbrB,KAAK,GAAGqB,GAAG;QACXf,YAAY,GAAGO,SAAS;QACxBI,QAAQ,CAACD,OAAO,CAACK,GAAG,CAAC;MACzB,CAAC,CAAC,CACGC,KAAK,CAACC,GAAG,IAAI;QACdjB,YAAY,GAAGO,SAAS;QACxBI,QAAQ,CAACN,MAAM,CAACY,GAAG,CAAC;MACxB,CAAC,CAAC;IACN;IACA,OAAOjB,YAAY,CAACG,OAAO;EAC/B,CAAC;EACD,OAAO;IAAEF,GAAG;IAAEC,UAAU;IAAEM,SAAS;IAAEJ;EAAQ,CAAC;AAClD,CAAC;AACDX,OAAO,CAACE,UAAU,GAAGA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}